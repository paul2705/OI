* $T1$ [神树和物品](http://www.noi.ac/contest/172/problem/531)

  * 不难得到一个简单的$n^2$分组$dp$，$f_i=min(f_j+calc(j+1,i))$

  * 这题我在考场上想到要看下决策单调性~~（但题目出锅了，当时我推的时候题目条件无法推出单调性，且我推了半天，真的超复杂，于是改过题面后就没再推一遍...）~~

  * $$
    suppose\ a\to i,b\to i+1\ (a<b)\\
    \therefore f_a+w(a+1,i)<f_b+w(b+1,i),\\
    f_b+w(b+1,i+1)<f_a+w(a+1,i+1)\\
    w(a+1,i)+w(b+1,i+1)<w(b+1,i)+w(a+1,i+1)\\
    w(a+1,i)-w(b+1,i)<w(a+1,i+1)-w(b+1,i+1)\\
    |A_{i}-x_{a+1}|^3-|A_i-x_{b+1}|^3<|A_{i+1}-w_{a+1}|^3-|A_{i+1}-x_{b+1}|^3\\
    $$

  * emmm…不想展开了…感性理解下吧，$|A_i-x_{a+1}|^3$增长的比$|A_i-x_{b+1}|^3$快

  * 这样就可以用决策单调性去做，维护一个“单调”栈，保存对于栈中的$x$，记录$L_x,R_x$表示$x$将会更新的区间，而对于栈中序列$x_1,x_2,…,x_{top}$存在$L_1<R_1=L_2-1<R_2=L_3-1<…<R_{top-1}=L_{top}-1<R_{top}$

  * 