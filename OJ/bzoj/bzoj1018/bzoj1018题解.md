考察该题需要我们在方格图中动态询问任意两点的连通性，~~可持久化并查集~~

但再看一眼题目本题的方格图是$2*N$ ,~~于是这题变水~~

观察到对于任意一个点都可以表示为一个矩阵的四角之一

又观察到对于一个$2*X$的方格图，可以将它分成左右两块$2*(N/2)$ ,通过这两块的四角连通性可以得到大的矩阵四角连通性。

获得这个性质后，就可以利用线段树分治，获得任意一个矩阵的四角连通性。

~~看起来就做完了~~

但在冷静思考，猛然发现这两个点的连通性可以不只通过这个矩阵内部的点得到，可以先绕到左边，再到右边再回来。

但这个也可以通过查询$[1,L]$的右边两个点连通性和$[R,N]$的左边两个点连通性得到。

那么这道题就做完了…….