#### $bzoj1112-POI2008$ 砖块$Klo$

* 题面描述
  * $N$柱砖,希望有连续$K$柱的高度是一样的. 你可以选择以下两个动作 
    * 从某柱砖的顶端拿一块砖出来,丢掉不要了. 
    * 从仓库中拿出一块砖,放到另一柱.仓库无限大. 现在希望用最小次数的动作完成任务.
* 输入格式
  * 第一行给出$N,K$. $(1 \leq k \leq n \leq 10^5)$
  * 下面$N$行,每行代表这柱砖的高度. $0 \leq h_i \leq 10^6$
* 输出格式
  * 最小的动作次数
* 题解
  * 连续$K$柱，因此不难想到滑动窗口，现在问题就是怎样找到一堆数中的中位数，以及小于中位数的数有几个，大于中位数的数有几个
  * 这个东西可以用权值线段树，~~动态开点~~来做
  * 也可以用$Splay、Treap$维护

