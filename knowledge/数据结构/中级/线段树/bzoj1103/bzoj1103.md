#### $bzoj1103-POI2007$ 大都市$meg$ 

* 题面描述
  * 在经济全球化浪潮的影响下,习惯于漫步在清晨的乡间小路的邮递员$Blue\ Mary$也开始骑着摩托车传递邮件了。不过，她经常回忆起以前在乡间漫步的情景。昔日，乡下有依次编号为$1..n$的$n$个小村庄，某些村庄之间有一些双向的土路。从每个村庄都恰好有一条路径到达村庄$1$（即比特堡）。并且，对于每个村庄，它到比特堡的路径恰好只经过编号比它的编号小的村庄。另外，对于所有道路而言，它们都不在除村庄以外的其他地点相遇。在这个未开化的地方，从来没有过高架桥和地下铁道。随着时间的推移，越来越多的土路被改造成了公路。至今，$Blue\ Mary$还清晰地记得最后一条土路被改造为公路的情景。现在，这里已经没有土路了——所有的路都成为了公路，而昔日的村庄已经变成了一个大都市。 $Blue\ Mary$想起了在改造期间她送信的经历。她从比特堡出发，需要去某个村庄，并且在两次送信经历的间隔期间,有某些土路被改造成了公路.
  * 现在$Blue\ Mary$需要你的帮助：计算出每次送信她需要走过的土路数目。（对于公路，她可以骑摩托车；而对于土路，她就只好推车了。）
* 输入格式
  * 第一行是一个数$n(1 \leq n \leq 25*10^4)$.以下$n-1$行，每行两个整数$a$，$b$$(1 \leq  a< b\leq n)$以下一行包含一个整数$m(1 \leq m \leq 25*10^4)$，表示$Blue\ Mary$曾经在改造期间送过$m$次信。以下$n+m-1$行，每行有两种格式的若干信息，表示按时间先后发生过的$n+m-1​$次事件:
    * 若这行为 $A\ a\ b\ (a<b)$ ，表示$a$到$b$的一条直接连边从土路变成公路
    * 若这行为 $W\ a$, 则表示$Blue\ Mary$曾经从比特堡送信到村庄$a$。
* 输出格式
  * 有$m$行，每行包含一个整数，表示对应的某次送信时经过的土路数目。
* 题解
  * 清新小水题
  * 用$dfn$序维护子树信息，一次操作就变为对一个区间$-1$，询问是单点查询
  * 用线段树常数不好的话会被卡$TLE$，用树状数组就稳过了

