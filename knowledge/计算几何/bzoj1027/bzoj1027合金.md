####$bzoj1027-JSOI2007$合金
* 题面描述
  * 某公司加工一种由铁、铝、锡组成的合金。他们的工作很简单。首先进口一些铁铝锡合金原材料，不同种类的原材料中铁铝锡的比重不同。然后，将每种原材料取出一定量，经过融解、混合，得到新的合金。新的合金的铁铝锡比重为用户所需要的比重。 现在，用户给出了n种他们需要的合金，以及每种合金中铁铝锡的比重。公司希望能够订购最少种类的原材料，并且使用这些原材料可以加工出用户需要的所有种类的合金。
* 输入格式
  * 第一行两个整数m和n（m, n ≤ 500），分别表示原材料种数和用户需要的合金种数。第2到m + 1行，每行三个实数a, b, c（a, b, c ≥ 0 且 a + b + c = 1），分别表示铁铝锡在一种原材料中所占的比重。第m + 2到m +n + 1行，每行三个实数a, b, c（a, b, c ≥ 0 且 a + b + c = 1），分别表示铁铝锡在一种用户需要的合金中所占的比重。
* 输出格式
  * 一个整数，表示最少需要的原材料种数。若无解，则输出–1。
* 题解
  * 拿到题目，瞬间懵了，这是个啥？先考虑简化的问题，如果只有一维即$\{a_i\}$，对于$a_x,a_y$$(a_x\leq a_y)$能组成的数在$[a_x,a_y]$中；再考虑二维，不难推广成$(a_{x_1},y_1),(x_2，y_2)$能组成的点为$(x_1,y_1)(x_2,y_2)$线段上的点。
  * 再看一眼题，我们能惊奇地发现题中表面上是三维的，但最后一维完全由前两维确定$c=1-a-b​$，也将是三维上的一个确定平面上的点，也就是说我们只需要考虑二维。
  * 再回过头去看二维的情况，当$3$个点能够合成的合金是$3$个点围成的三角形内。
    * 如何理解？对于$3$个点$p_1,p_2,p_3$，$p_1p_2,p_2p_3,p_1p_3$为2个物品能合成的合金，再用这些合成的合金与其它融合为其连线段，故三角形由无数条连线段构成。
  * 这个结论能够很容易地推广到n个点合成。
  * 我们再将线段加上方向变成向量，当点在该向量顺时针180°内称为该向量右侧，当点在该向量逆时针$180°$内称为该向量右侧。
  * 通过玩数据，我们不难发现最终能够合成所有目标合金为原合金组成的封闭图形，并能够围住所有目标合金。而进一步，当我们将该封闭图形按顺时针定方向后，所有目标合金均在这些向量右侧。
  * 我们对每个向量$(x_1,y_1)(x_2,y_2)$判断目标点是否均在一侧（左$/$右），在左侧$(x_1,y_1)\to (x_2,y_2)$，在右侧$(x_2，y_2)\to (x_1，y_1)$，即强制转化为向量右侧，那么如果一个点能通过一些向量回到自己，就一定形成包含所有目标点的封闭图形，那么我们用$floyd$找最小环即可。
