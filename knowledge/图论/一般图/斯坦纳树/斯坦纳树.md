#### 斯坦纳树

* 对于一张$N$个点$M$条边的无向带权图，对指定的$k$个点生成最小生成树的过程称作 斯坦纳树
* 实质上是一种$dp$方式
* 实现上用到$dp+SPFA$
  * 定义$f_{i,S}$表示以$i$为根，联通指定集合中的点的情况为$S$时的生成树的最小权值和
  * $f_{i,S}=min(f_{i,S},f_{i,S'}+f_{i,S/S'})\ (S'\in S)\\ f_{i,S}=min(f_{i,S},f_{j,S}+dist_{i,j})$
  * 一式是**$dp$不同层间**转移用$dp$直接做，二式**$dp$层内**转移用$SPFA$做
  * 时间复杂度$O(3^k*V+cE*2^k)$ ，$c$为$SPFA$的系数
* 例题：
  * 连接关键点
    * 题意：给出平面上的$N\leq 10^2$个点$(x,y)\ (-10^3\leq x,y\leq 10^3)$，其中前$k\leq 10$个点为关键点，要将$k$个点连接到同一棵生成树中，且这**这$k$个点都是生成树的叶子**，求最小生成树（欧几里得距离）
    * 分析：
      * 依然考虑 斯坦纳树 ，首先在做斯坦纳树的时候，$dp$的边界$f_{i,1<<i}$我们仔细追究含义，不难发现$f_{i,1<<i} $表示以$i$为叶子的最小权值和。正常来说，$f_{i,1<<i}=0$但在本题中他要求叶子当且仅有 前$k$个点
        * 证明：贪心的考虑，如果我们有一个非关键点是叶子，那我们可以把这个点删掉，答案一定变差。因此我们可以删掉所有非关键点 但是叶子的点
      * 然后按照 斯坦纳树的做法做即可