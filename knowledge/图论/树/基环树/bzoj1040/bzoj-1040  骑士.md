#### $bzoj1040-ZJOI2008$  骑士

* 题面描述
  * $Z$国的骑士团是一个很有势力的组织，帮会中汇聚了来自各地的精英。他们劫富济贫，惩恶扬善，受到社会各界的赞扬。最近发生了一件可怕的事情，邪恶的Y国发动了一场针对$Z$国的侵略战争。战火绵延五百里，在和平环境中安逸了数百年的$Z$国又怎能抵挡的住$Y$国的军队。于是人们把所有的希望都寄托在了骑士团的身上，就像期待有一个真龙天子的降生，带领正义打败邪恶。骑士团是肯定具有打败邪恶势力的能力的，但是骑士们互相之间往往有一些矛盾。每个骑士都有且仅有一个自己最厌恶的骑士（当然不是他自己），他是绝对不会与自己最厌恶的人一同出征的。战火绵延，人民生灵涂炭，组织起一个骑士军团加入战斗刻不容缓！国王交给了你一个艰巨的任务，从所有的骑士中选出一个骑士军团，使得军团内没有矛盾的两人（不存在一个骑士与他最痛恨的人一同被选入骑士军团的情况），并且，使得这支骑士军团最具有战斗力。为了描述战斗力，我们将骑士按照$1$至$N$编号，给每名骑士一个战斗力的估计，一个军团的战斗力为所有骑士的战斗力总和。
* 输入格式
  * 第一行包含一个正整数$N$，描述骑士团的人数。接下来$N$行，每行两个正整数，按顺序描述每一名骑士的战斗力和他最痛恨的骑士。
* 输出格式
  * 应包含一行，包含一个整数，表示你所选出的骑士军团的战斗力。
* 题解
  * 注意到，每个骑士都只有一条出边（最讨厌的人），并且整张图边数等于点数，因此这张图是一个基环内向树森林，关于这个建议各位自行画图理解。
  * 并且，我们不难发现，这条有向边$(u,v)$在表达集合包含关系时是无向的，即若$u$入选，$v$不能选；若$v$入选，$u$不能选。进一步，我们只需将基环内向树的任意一条环边断开，做树型$dp$即可（具体参考：没有上司的舞会）
  * 这里还有一个基环内向树的性质（虽然我没用，但还是讲一下）。对于任意一棵基环内向树中任意一点沿有向边，必然最终走入环中，也就是我们不需要找环，直接沿有向边走直到走到已访问的点（环上）
  * 不用上面找环的方法，我们也可以用$dfn$的方法，将有向边处理为无向边，把它当成树加一条无向边做，向搜索到已搜索的点$u$，用该点$v$一直暴跳父亲，一直跳到$u$，至于```  if  cnt>0,  then  continue```，是因为一张无向基环树会在$2$个地方进环，两个都在$u​$上，但是是两条完全相反的路径。